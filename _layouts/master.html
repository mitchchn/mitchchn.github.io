<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  {% include head.html %}

  <body>
    {% include masthead.html %}

    <!-- Main Blog Content -->
    <div class="content" role="content">
      {{ content }}
      <div class="clear large-12 medium-12">&nbsp;</div>
    </div>



    <div class="row">
    <div class="footer large-11 medium-11 large-centered medium-centered columns">
        <p>
        <small>
          &copy; {{ site.time | date: '%Y' }} Mitchell Cohen.
        </small>
        </p>
    </div>
    </div>

    <script type="text/javascript">
// this script requires jQuery
$(document).ready(function() {
    Footnotes.setup();
});

var Footnotes = {
    footnotetimeout: false,
    setup: function() {
        var footnotelinks = $("a[class='footnote']")

    $('body').click(function(e) {
      if (!$(e.target).closest('#footnotediv').length){
        Footnotes.footnoteoout();
    }
    });

    $(footnotelinks).click(function(e) {
        e.stopPropagation();
        e.preventDefault();
      });

        footnotelinks.unbind('click',Footnotes.footnoteover);
        footnotelinks.unbind('mouseout',Footnotes.footnoteoout);
        
        footnotelinks.bind('click',Footnotes.footnoteover);
        document.bind('click',Footnotes.footnoteoout);
    },
    footnoteover: function() {
        clearTimeout(Footnotes.footnotetimeout);
        $('#footnotediv').stop();
        $('#footnotediv').remove();
        
        var id = $(this).attr('href').substr(1);
        var position = $(this).offset();
    
        var div = $(document.createElement('div'));
        div.attr('id','footnotediv');
        //div.bind('mouseover',Footnotes.divover);
        //div.bind('mouseout',Footnotes.footnoteoout);

        var el = document.getElementById(id);
        div.html($(el).html());
        
        div.css({
            position:'absolute',
            width:'400px',
            opacity:1.0
        });
        $(document.body).append(div);

        var left = position.left;
        if(left + 420  > $(window).width() + $(window).scrollLeft())
            left = $(window).width() - 420 + $(window).scrollLeft();
        var top = position.top+20;
        if(top + div.height() > $(window).height() + $(window).scrollTop())
            top = position.top - div.height() - 15;
        div.css({
            left:left,
            top:top
        });
    },
    footnoteoout: function() {
        Footnotes.footnotetimeout = setTimeout(function() {
            $('#footnotediv').animate({
                opacity: 0
            }, 600, function() {
                $('#footnotediv').remove();
            });
        },100);
    },
    divover: function() {
        clearTimeout(Footnotes.footnotetimeout);
        $('#footnotediv').stop();
        $('#footnotediv').css({
                opacity: 1.0
        });
    }
}
    </script>


    <script type="text/javascript">
// get the value of the bottom of the #main element by adding the offset of that element plus its height, set it as a variable
var mainbottom = $('#main').offset().top + $('#main').height();
// on scroll, 
$(window).scroll( function() {
    var value = $(window).scrollTop();
    if ( value > mainbottom )
        $(".top-bar").addClass("translucent");
    else
        $(".top-bar").removeClass("translucent");
});
</script>
    <script>
      $(document).foundation();
    </script>
  </body>
</html>
